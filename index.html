<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Plantafel Dachdeckerei Frey</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
<header class="topbar">
  <div class="topbar__title">Plantafel Dachdeckerei Frey</div>
  <div class="topbar__actions">
    <label class="small">Start-Montag:</label>
    <input id="startDate" type="date" />
    <button id="btnToday" class="btn secondary">Diese Woche</button>
    <button id="btnReset" class="btn danger">Alles zurücksetzen</button>

    <!-- ZOOM (NEU) -->
    <div class="zoomControls">
      <button type="button" class="btn secondary zoomBtn" onclick="setZoom(zoomLevel - 0.1)">−</button>
      <button type="button" class="btn secondary zoomBtn" onclick="setZoom(1)">100%</button>
      <button type="button" class="btn secondary zoomBtn" onclick="setZoom(zoomLevel + 0.1)">+</button>
      <span id="zoomValue" class="zoomValue">100%</span>
    </div>
  </div>
</header>

<!-- ZOOM WRAPPER (NEU) -->
<div id="zoom-root">

<main class="layout">
  <!-- LEFT: Stammdaten -->
  <aside class="sidebar">
    <section class="card">
      <h3>Fahrzeuge (Stammdaten)</h3>
      <div class="row">
        <input id="vehicleInput" placeholder="Fahrzeug" />
        <button id="addVehicleBtn" class="btn">+</button>
      </div>
      <div id="vehicleList" class="magnet-list"></div>
      <div class="hint">Fahrzeuge bleiben links. Ziehen erzeugt Kopie im Projekt (Feinplanung).</div>
    </section>

    <section class="card">
      <h3>Mitarbeiter (Stammdaten)</h3>
      <div class="row">
        <input id="employeeInput" placeholder="Name" />
        <button id="addEmployeeBtn" class="btn">+</button>
      </div>
      <div id="employeeList" class="magnet-list"></div>
      <div class="hint">Jeder Mitarbeiter hat eigene Farbe. Ziehen erzeugt Kopie im Projekt/Status.</div>
    </section>

    <section class="card">
      <h3>Projekt anlegen (Pool)</h3>
      <div class="row">
        <input id="projectInput" placeholder="Projektname" />
        <button id="addProjectBtn" class="btn">Projekt +</button>
      </div>
      <div id="projectPool" class="pool"></div>
      <div class="hint">Hier stehen nur ungeplante Projekte. Sobald geplant: hier weg.</div>
    </section>

    <section class="card">
      <h3>Status (Urlaub/Krank/Schule)</h3>
      <div class="status-buttons">
        <div class="status-chip urlaub" draggable="true" data-kind="status" data-status="urlaub">Urlaub</div>
        <div class="status-chip krank" draggable="true" data-kind="status" data-status="krank">Krank</div>
        <div class="status-chip schule" draggable="true" data-kind="status" data-status="schule">Schule</div>
      </div>
      <div class="hint">Status in einen Tag ziehen → Statusbox entsteht → Mitarbeiter hineinziehen.</div>
    </section>

    <section class="card trash">
      <h3>ENTFERNEN</h3>
      <div id="trash" class="trashZone">Hierher ziehen zum Entfernen</div>
      <div class="hint">
        Projekt aus Monat/Tag → zurück in Pool.<br/>
        KFZ/MA im Projekt/Status → nur dort entfernen.<br/>
        Stammdaten löschen: über X (Bestätigung).
      </div>
    </section>
  </aside>

  <!-- RIGHT: Planung -->
  <section class="content">
    <section class="card">
      <div class="headRow">
        <h2>Grobplanung (12 Monate)</h2>
        <div class="small hint">Projekte aus Pool hier hineinziehen. Von Monat in Tag ziehen → Feinplanung.</div>
      </div>
      <div id="monthsGrid" class="monthsGrid"></div>
    </section>

    <section class="card">
      <div class="headRow">
        <h2>Feinplanung (4 Wochen · Mo–Fr)</h2>
        <div class="small hint">Pro Tag mehrere Projekte NEBENEINANDER. Projektblock als Ganzes verschiebbar.</div>
      </div>
      <div class="navRow">
        <button id="weekPrev" class="btn secondary">◀</button>
        <div id="rangeTitle" class="rangeTitle"></div>
        <button id="weekNext" class="btn secondary">▶</button>
      </div>
      <div id="weeks" class="weeks"></div>
    </section>
  </section>
</main>

</div><!-- /zoom-root -->

<script src="./app.js"></script>
</body>
</html>
